# üßπ –û—á–∏—Å—Ç–∫–∞ Git –æ—Ç –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

–í Git –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚ùå `static/*/distribute/` - —Å–æ–±—Ä–∞–Ω–Ω—ã–µ webpack —Ñ–∞–π–ª—ã
- ‚ùå `static/*/css/*.css` - —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SCSS
- ‚ùå `node_modules/` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ npm
- ‚ùå –î—Ä—É–≥–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–±–æ—Ä–∫–∏

**–≠—Ç–∏ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ, –∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ Git!**

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç–µ –∏–∑ Git (–Ω–æ –æ—Å—Ç–∞–≤—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ)

```bash
# –£–¥–∞–ª–∏—Ç—å –∏–∑ Git, –Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
git rm -r --cached static/viki_web/distribute/
git rm -r --cached static/viki_web_cms/distribute/
git rm --cached static/viki_web/css/style.css
git rm --cached static/viki_web/css/style.css.map
git rm --cached static/viki_web_cms/css/style.css
git rm --cached static/viki_web_cms/css/style.css.map
git rm -r --cached node_modules/ 2>/dev/null || true
git rm --cached package-lock.json 2>/dev/null || true

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ
git commit -m "–£–¥–∞–ª–∏—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ Git (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ)"
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .gitignore

–§–∞–π–ª `.gitignore` —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç:

```
# –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è webpack/sass)
static/viki_web/distribute/
static/viki_web_cms/distribute/
static/viki_web/css/style.css
static/viki_web/css/style.css.map
static/viki_web_cms/css/style.css
static/viki_web_cms/css/style.css.map
```

### –®–∞–≥ 3: Push –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
git push origin main
```

---

## üê≥ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ Docker

–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ Git, —Å–±–æ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Docker:

```dockerfile
# –í Dockerfile —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
RUN curl -fsSL https://deb.nodesource.com/setup_lts.x | bash -
RUN apt-get install -y nodejs

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY package*.json ./
RUN npm install

# 3. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
COPY . .

# 4. –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (webpack + sass)
RUN npm run build
```

**–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- ‚úÖ Git —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ (JS, SCSS)
- ‚úÖ Docker —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ
- ‚úÖ –†–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –º–µ–Ω—å—à–µ
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ merge

---

## üìã –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –í–°–ï –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ Git (—É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è):

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é Git!**

```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
git branch backup-before-cleanup

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å git-filter-repo (–µ—Å–ª–∏ –Ω–µ—Ç)
pip install git-filter-repo

# –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫–∏ –∏–∑ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏
git filter-repo --path static/viki_web/distribute/ --invert-paths
git filter-repo --path static/viki_web_cms/distribute/ --invert-paths
git filter-repo --path node_modules/ --invert-paths

# Force push (–µ—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π remote)
git push origin --force --all
```

**–≠—Ç–æ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:**
- –†–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (>100MB)
- –•–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ–ª–Ω–æ—Å—Ç—å—é

---

## üîÑ Workflow –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (—Å hot reload)
npm run dev

# –ò–ª–∏ —Å–æ–±—Ä–∞—Ç—å –≤—Ä—É—á–Ω—É—é
npm run build
```

### Production (Docker):

```bash
# Docker —Å–∞–º –≤—Å—ë —Å–æ–±–µ—Ä–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
docker-compose -f docker-compose.production.yml up -d --build
```

**–í—ã –±–æ–ª—å—à–µ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã!**

---

## ‚úÖ –ß—Ç–æ –≤ –∏—Ç–æ–≥–µ

### –í Git —Ö—Ä–∞–Ω–∏–º:

- ‚úÖ –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ JS (`viki_web/js/*.js`)
- ‚úÖ –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ SCSS (`static/*/css/scss/*.scss`)
- ‚úÖ `package.json`
- ‚úÖ `webpack.config.js`
- ‚úÖ –í—Å–µ Python –∫–æ–¥

### –ù–ï —Ö—Ä–∞–Ω–∏–º –≤ Git:

- ‚ùå `static/*/distribute/` (webpack output)
- ‚ùå `*.css`, `*.css.map` (sass output)
- ‚ùå `node_modules/`
- ‚ùå `package-lock.json`

### –°–æ–±–∏—Ä–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–õ–æ–∫–∞–ª—å–Ω–æ:** `npm run build`
2. **Docker:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `docker-compose up --build`

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ú–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** - –Ω–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
2. **–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** - –ø—Ä–∏ merge –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç CSS/JS —Ñ–∞–π–ª—ã
3. **–ß–∏—Å—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è** - —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞** - Docker –≤—Å—ë —Å–¥–µ–ª–∞–µ—Ç —Å–∞–º
5. **–û–¥–∏–Ω–∞–∫–æ–≤–∞—è —Å–±–æ—Ä–∫–∞** - –≤–µ–∑–¥–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ

---

## ‚ùì FAQ

**Q: –ê –µ—Å–ª–∏ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —É–∂–µ –≤ Git?**  
A: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ "–®–∞–≥ 1" –≤—ã—à–µ.

**Q: –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏?**  
A: `npm install && npm run build`

**Q: Docker –Ω–µ —Å–æ–±–µ—Ä–µ—Ç –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–µ –≤ Git?**  
A: Docker –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å—ë (–≤–∫–ª—é—á–∞—è –∏—Å—Ö–æ–¥–Ω–∏–∫–∏) –∏–∑ –≤–∞—à–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

**Q: –ù—É–∂–Ω–æ –ª–∏ –∫–æ–º–º–∏—Ç–∏—Ç—å package-lock.json?**  
A: –ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ package.json. Docker —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ –Ω–µ–≥–æ.

---

**–¢–µ–ø–µ—Ä—å –≤–∞—à Git —á–∏—Å—Ç—ã–π! üéâ**

