(()=>{"use strict";var e,t,n,i,r,o,c={93:(e,t,n)=>{function i(e,t,n){const i=e.closest(".product").querySelector(`div.product-hor__image-frame[data-id="${n}"]`);e.closest(".color-padding").querySelector(`input[id="${e.htmlFor}"]`).checked=!0;const r=i.querySelector("img");if(i!==t){r.complete?(i.classList.remove("item-hidden"),setTimeout((()=>{i.classList.remove("item-opaque")}),1),t.classList.add("item-opaque"),setTimeout((()=>{t.classList.add("item-hidden")}),400)):(r.removeAttribute("loading"),r.addEventListener("load",(()=>{i.classList.remove("item-hidden"),setTimeout((()=>{i.classList.remove("item-opaque")}),1),t.classList.add("item-opaque"),setTimeout((()=>{t.classList.add("item-hidden")}),400)})));const n=i.dataset.article,o=i.dataset.price,c=i.dataset.description,a=e.closest(".product");a.querySelector(".product-hor__color-description").textContent=c,a.querySelector(".price").textContent=o,a.querySelector(".article").textContent=n}}function r(e){const t=this.querySelector(".color-label__check"),n=[...this.closest(".product").querySelectorAll("div.product-hor__image-frame")].find((e=>!e.classList.contains("item-hidden")));if(""===t.style.display){const t=e.target.closest(".color-padding");[...t.querySelectorAll("div.color-label__check")].forEach((e=>{e.removeAttribute("style")})),t.querySelector(`div.color-label__check[data-id="${e.target.dataset.id}"]`).style.display="block",i(this,n,e.target.dataset.id)}}function o(e){const t=e.target.closest(".tab-btn-block"),n=t.closest(".product-frame").querySelector(".tab-content").querySelectorAll(".tab"),i=[...n].find((t=>t.dataset.id===e.target.dataset.id));t.querySelectorAll(".tab-btn").forEach((e=>{e.classList.remove("tab-active")})),e.target.classList.add("tab-active"),n.forEach((e=>{e.classList.remove("tab-show")})),i.classList.add("tab-show")}function c(e){const t=JSON.parse(this.dataset.list),n=[...this.closest(".product-frame").querySelectorAll("div.product-hor__image-frame")].find((e=>!e.classList.contains("item-hidden"))),r=t.indexOf(t.find((e=>e.toString()===n.dataset.id))),o=r===t.length-1?t[0]:t[r+1],c=this.closest(".product").querySelector(`label.color-label[data-id="${o}"]`);[...c.closest(".color-padding").querySelectorAll("div.color-label__check")].forEach((e=>{e.removeAttribute("style")})),c.querySelector(".color-label__check").setAttribute("style","display: block;"),t.length>1&&i(c,n,o)}function a(e){const t=e.target.value;e.target.nextElementSibling.textContent="–¥–æ "+t}function s(e){const t=document.querySelectorAll('.filter input[type="checkbox"]'),n=document.querySelectorAll(".filter__content_data_color .color-label__check"),i=document.querySelector(".filter"),r=document.querySelector(".filter .input-range"),o=document.querySelector(".filter .input-range__value");t.forEach((e=>{e.checked=!1})),n.forEach((e=>{e.removeAttribute("style")})),r.value=r.max,o.textContent="–¥–æ "+r.max,i.removeAttribute("open"),[...document.querySelectorAll(".product")].forEach((e=>{e.removeAttribute("style");const t=e.querySelectorAll(".product-hor__image-frame"),n=[...t].map((e=>parseInt(e.dataset.id))),i=Math.round(Math.random()*(t.length-1));e.querySelector(".chev-next").dataset.list=e.querySelector(".chev-next").dataset.listInitial,[...t].forEach(((e,t)=>{e.removeAttribute("style")})),e.querySelector(`.color-padding label.color-label[data-id="${n[i]}"]`).click()})),[...document.querySelectorAll(".products .color-label")].forEach((e=>{e.removeAttribute("style")}));const c=document.querySelector(".filter-badge");c.removeAttribute("style"),c.textContent=""}async function l(e){e.preventDefault();const t="/filter",n=[...document.querySelectorAll(".product")].reduce(((e,t)=>(e[t.getAttribute("data-id")]=t,e)),{}),i=document.querySelectorAll(".product-hor__image-frame"),r=[...i].reduce(((e,t)=>(e[t.getAttribute("data-id")]=t,e)),{});let o,c,a,s;const l=document.querySelector(".filter"),p=d(l.querySelectorAll('.filter__content_data_filter input[type="checkbox"]'));p.length>0&&(o=await m(u(p),Object.keys(n),t,"filter"));const f=d(l.querySelectorAll('.filter__content_data_print input[type="checkbox"]'));f.length>0&&(c=await m(u(f),Object.keys(n),t,"print"));const h=d(l.querySelectorAll('.filter__content_data_color input[type="checkbox"]'));h.length>0&&(a=await m(u(h),Object.keys(r),t,"color"));const y=l.querySelector(".filter .input-range");y.value<=y.max-.1&&(s=function(e,t){const n=[],i=[];return[...t].forEach((t=>{parseFloat(t.dataset.price)<=parseFloat(e)&&(i.push(t.dataset.id),n.includes(t.dataset.goods)||n.push(t.dataset.goods))})),{goods:n,item:i}}(y.value,i)),function(e,t,n,i,r,o,c){let a,s,l,d,u,m;const p=[],f=[];a=e||Object.keys(r),s=t||Object.keys(r),l=n?n.goods:Object.keys(r),u=n&&n.item?n.item:Object.keys(c),d=i?i.goods:Object.keys(r),m=i&&i.item?i.item:Object.keys(c),Object.keys(r).forEach((e=>{a.includes(e)&&s.includes(e)&&l.includes(e)&&d.includes(e)?(r[e].removeAttribute("style"),p.push(r[e])):r[e].setAttribute("style","display:none")})),(n||i)&&(Object.keys(c).forEach((e=>{u.includes(e)&&m.includes(e)?(c[e].removeAttribute("style"),f.push(c[e])):c[e].setAttribute("style","display:none")})),[...document.querySelectorAll(".products .color-label")].forEach((e=>{e.removeAttribute("style"),u.includes(e.dataset.id)&&m.includes(e.dataset.id)||e.setAttribute("style","display:none")})),p.forEach((e=>{const t=[...[...e.querySelectorAll(".product-hor__image-frame")].filter((e=>f.includes(e)))].map((e=>parseInt(e.dataset.id)));e.querySelector(".chev-next").dataset.list=JSON.stringify(t);const n=t.length>1?Math.round(Math.random()*(t.length-1)):0;e.querySelector(`.color-padding label.color-label[data-id="${t[n]}"]`).click()})))}(o,c,a,s,n,0,r),document.querySelector(".filter").removeAttribute("open")}function d(e){return[...e].filter((e=>e.checked))}function u(e){return[...e].map((e=>e.getAttribute("data-id")))}async function m(e,t,n,i){const r=n+"/"+i,o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({goods_id:t,filter_id:e})});return(await o.json()).idList}function p(e,t){let n=[...e].filter((e=>e.checked)).length;t.value<t.max-.1&&n++;const i=document.querySelector(".filter-badge");n?(i.textContent=n,i.style.display="block"):(i.removeAttribute("style"),i.textContent="")}function f(e){let t,n,i;const r=e.target.closest(".product");let o;e.target.closest(".product-frame");const c=r.querySelector(".product-hor__image-frame:not(.item-hidden)")||r.querySelector(".product-sqr__image-frame:not(.item-hidden)");c&&(o=c.dataset.id);const a=r.getAttribute("data-article-set");if(!o||!a)return void console.error("Constructor error: Missing required data attributes",{itemId:o,articleSetAttr:a});const s=JSON.parse(a),l=document.createElement("dialog");l.classList.add("simple-constructor");const d=document.createElement("form");d.id="constructor",d.classList.add("simple-constructor__items"),l.appendChild(d),s.forEach((e=>{i=document.createElement("div"),d.appendChild(i),n=document.createElement("h4"),i.appendChild(n),t=document.createElement("div"),i.appendChild(t),Object.keys(e).includes("option")?(n.textContent="–æ–ø—Ü–∏—è",t.classList.add("simple-constructor__option"),function(e,t,n){e.option.forEach((e=>{const i=document.createElement("div");i.classList.add("simple-constructor__option_element"),t.appendChild(i);const r=document.createElement("input");r.type="radio",r.name="option",r.id=e.option_article,r.value=e.option_article,i.appendChild(r);const o=document.createElement("label");o.textContent=e.name,o.htmlFor=e.option_article,i.appendChild(o),r.addEventListener("change",(e=>{n.querySelector(".simple-constructor__alert").textContent=""}))}))}(e,t,l)):(n.textContent=e.parts_description__name,t.classList.add("simple-constructor__color"),function(e,t,n,i){e.color.forEach((r=>{const o=document.createElement("input");o.type="radio",o.name=e.position,o.id=r.name+r.code+e.position+"_"+n,o.value=r.code,o.hidden=!0,t.appendChild(o);const c=document.createElement("div");c.classList.add("simple-constructor__square_frame");const a=document.createElement("label");a.classList.add("simple-constructor__square","tooltip"),a.style.backgroundColor=r.hex,a.htmlFor=r.name+r.code+e.position+"_"+n;const s=document.createElement("div");s.classList.add("tooltip-text"),s.textContent=r.name,a.appendChild(s),c.appendChild(a),t.appendChild(c),o.addEventListener("change",(e=>{i.querySelector(".simple-constructor__alert").textContent="",[...t.querySelectorAll(".simple-constructor__square_frame")].forEach((e=>{e.style.visibility="hidden"})),c.style.visibility="visible"}))}))}(e,t,o,l))}));const u=document.createElement("div");u.classList.add("simple-constructor__footer");const m=document.createElement("div");m.classList.add("simple-constructor__alert"),u.appendChild(m);const p=document.createElement("div");p.classList.add("btn-block"),u.appendChild(p),l.appendChild(u);const f=document.createElement("button");f.classList.add("btn","btn__save"),f.textContent="–ü—Ä–∏–º–µ–Ω–∏—Ç—å",f.addEventListener("click",(()=>{!function(e,t){const n=e.querySelector("form"),i=new FormData(n),r=Object.fromEntries(i.entries()),o=parseInt(t.getAttribute("data-article-length")),c=Object.keys(r).includes("option")?Object.keys(r).length-1:Object.keys(r).length;if(c===o){let n=t.getAttribute("data-goods-article");for(let e=1;e<=c;e++)n=n+"."+r[e];r.option&&(n=n+"."+r.option);const i=t.querySelector(".product-hor__image-frame:not(.item-hidden)")||t.querySelector(".product-sqr__image-frame:not(.item-hidden)"),o=t.querySelector(`.product-hor__image-frame[data-article="${n}"]`)||t.querySelector(`.product-sqr__image-frame[data-article="${n}"]`);if(o)i&&i.classList.add("item-hidden","item-opaque"),o.classList.remove("item-hidden","item-opaque"),e.remove();else{const t=i?i.dataset.price:"";e.querySelector(".simple-constructor__alert").textContent="–î–ª—è –∑–∞–∫–∞–∑–∞ —ç—Ç–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É. –¶–µ–Ω–∞: "+t}}else e.querySelector(".simple-constructor__alert").textContent="–û—Ç–º–µ—Ç—å—Ç–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã"}(l,r)}));const h=document.createElement("button");h.classList.add("btn","btn__cancel"),h.textContent="–ó–∞–∫—Ä—ã—Ç—å",h.addEventListener("click",(()=>{!function(e){e.close(),e.remove()}(l)})),p.appendChild(h),p.appendChild(f),document.body.appendChild(l),l.showModal()}function h(){try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch(e){return console.error("Error getting cart from storage:",e),[]}}function y(e){try{localStorage.setItem("cart",JSON.stringify(e)),document.dispatchEvent(new CustomEvent("cart:updated",{detail:{cart:e}}))}catch(e){console.error("Error saving cart to storage:",e)}}function g(e,t=!1,n=3e3){try{const i=document.createElement("div");i.className="success-notification active",i.innerHTML=t?`\n                <i class="fa-solid fa-info success-notification__icon"></i>\n                <div class="success-notification__content">\n                    <h4 class="success-notification__title">–¢–æ–≤–∞—Ä —É–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ</h4>\n                    <p class="success-notification__message">\n                        ${e.name}\n                        <br>\n                        –ê—Ä—Ç–∏–∫—É–ª: ${e.article}\n                        <br>\n                        –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${e.quantity}\n                    </p>\n                </div>\n                <button class="success-notification__close">√ó</button>\n            `:`\n                <i class="fa-solid fa-check success-notification__icon"></i>\n                <div class="success-notification__content">\n                    <h4 class="success-notification__title">–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</h4>\n                    <p class="success-notification__message">\n                        ${e.name}\n                        <br>\n                        –ê—Ä—Ç–∏–∫—É–ª: ${e.article}\n                    </p>\n                </div>\n                <button class="success-notification__close">√ó</button>\n            `,document.body.appendChild(i),setTimeout((()=>{i.classList.remove("active"),setTimeout((()=>i.remove()),300)}),n),i.querySelector(".success-notification__close").addEventListener("click",(()=>{i.classList.remove("active"),setTimeout((()=>i.remove()),300)}))}catch(e){console.error("Error showing notification:",e)}}function _(e,t=3e3){try{const n=document.createElement("div");n.className="success-notification active",n.innerHTML=`\n            <i class="fa-solid fa-exclamation-triangle success-notification__icon"></i>\n            <div class="success-notification__content">\n                <h4 class="success-notification__title">–û—à–∏–±–∫–∞</h4>\n                <p class="success-notification__message">${e}</p>\n            </div>\n            <button class="success-notification__close">√ó</button>\n        `,document.body.appendChild(n),setTimeout((()=>{n.classList.remove("active"),setTimeout((()=>n.remove()),300)}),t),n.querySelector(".success-notification__close").addEventListener("click",(()=>{n.classList.remove("active"),setTimeout((()=>n.remove()),300)}))}catch(e){console.error("Error showing error notification:",e)}}n.d(t,{R:()=>B});var v=n(713);function b(e){return"number"!=typeof e&&(e=parseFloat(e)||0),e.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})}let S=!1;const q=16,x="transparent",w="#0F4880",E="#F2FFFF",k="#ffffff",L="Montserrat, sans-serif",A=14;function $(){return S?L:"Arial, sans-serif"}function T(e){let t=186;return e.branding&&e.branding.length>0&&(t+=50+35*e.branding.length),t}function C(e,t,n,i,r={}){e.save();const o=r.align||"left",c=r.baseline||"middle",a=r.fontSize||A;e.font=`400 ${a}px ${$()}`,e.fillStyle=r.color||w,e.textAlign=o,e.textBaseline=c,e.fillText(t,n,i),e.restore()}async function O(e,t){await async function(){return S?Promise.resolve():new Promise((e=>{"undefined"!=typeof FontFace?document.fonts.ready.then((()=>{if(document.fonts.check(`12px ${L}`))return S=!0,void e();try{const t=new FontFace("Montserrat","url(/static/viki_web/fonts/Montserrat-Regular.woff2)");t.load().then((()=>{document.fonts.add(t),S=!0,e()})).catch((()=>{e()}))}catch(t){e()}})):e()}))}(),e.dataset.isEditing;const i=parseInt(e.dataset.originalHeight||0),r=T(t);if(i!==r){const t=window.devicePixelRatio||1;parseInt(e.dataset.originalWidth||e.width/t),e.dataset.originalHeight=r,e.height=r*t}const o=e.getContext("2d"),c=window.devicePixelRatio||1;o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,e.width,e.height),o.scale(c,c);const a=e.width/c,s=e.height/c;o.fillStyle="#ffffff",o.strokeStyle=x,o.lineWidth=1,P(o,1,1,a-2,s-2,6),o.fill(),o.stroke();const l=q,d=q,u=70;if(o.fillStyle=k,o.strokeStyle=x,o.lineWidth=1,P(o,l,d,u,u,6),o.fill(),o.stroke(),o.fillStyle=w,o.textAlign="center",o.textBaseline="middle",o.font=`400 30px ${$()}`,o.fillText("üì∑",51,51),t.image){const e=new Image;e.onload=function(){const t=e.width/e.height;let n,i,r,c;t>1?(n=u,i=u/t,r=0,c=(u-i)/2):(n=u*t,i=u,r=(u-n)/2,c=0),o.clearRect(l,d,u,u),o.fillStyle=k,P(o,l,d,u,u,6),o.fill(),o.save(),o.beginPath(),o.roundRect(l,d,u,u,6),o.clip(),o.drawImage(e,l+r,d+c,n,i),o.restore(),o.strokeStyle=x,o.lineWidth=1,P(o,l,d,u,u,6),o.stroke()},e.src=t.image}const m=a<550,p=a-102-q;o.fillStyle="#0F4880",o.font=`600 16px ${$()}`,o.textAlign="left",o.textBaseline="top";const f=p-100,h=function(e,t,n){if(!t)return"";e.font;const i="...";if(e.measureText(i).width,e.measureText(t).width<=n)return t;let r=t;for(;r.length>0&&e.measureText(r+i).width>n;)r=r.slice(0,-1);return r+i}(o,t.name,f);o.fillText(h,102,16),o.fillStyle=w,o.font=`400 14px ${$()}`;const y=16+(m?24:28);if(o.fillText(`–ê—Ä—Ç–∏–∫—É–ª: ${t.article}`,102,y),t.description){o.fillStyle=w,o.font=`400 14px ${$()}`;const e=p,n=y+A+4;!function(e,t,n,i,r){if(!t)return;e.save(),e.font=`400 14px ${$()}`;const o=t.split(" ");let c="",a=i;let s=0;for(let t=0;t<o.length;t++){const i=c+o[t]+" ";if(e.measureText(i).width>r&&t>0){if(e.fillText(c,n,a),s++,s>=2){e.fillText("...",n+e.measureText(c).width+4,a);break}c=o[t]+" ",a+=16.8}else c=i}s<2&&e.fillText(c,n,a),e.restore()}(o,t.description,102,n,e)}const g=110,_=a-32;void 0===t.discountPrice&&(t.discountPrice=t.price);const v=.25*_,O=.25*_,I=.25*_;o.fillStyle=w,o.font=`400 15px ${$()}`,o.textAlign="left",o.textBaseline="middle",o.fillText(`–¶–µ–Ω–∞: ${b(t.price)} —Ä—É–±.`,q,g),o.fillStyle=t.discountPrice<t.price?"#d40000":w,o.textAlign="left",o.fillText(`–¶–µ–Ω–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π: ${b(t.discountPrice)} —Ä—É–±.`,q+v-60,g);const F="true"===e.dataset.isEditing;!function(e,t,n,i,r,o){e.save();const c=30,a=Math.min(o,180),s=i+(o-a)/2-20,l=95;e.fillStyle=E,P(e,s,l,a,c,6),e.fill();const d=a/5,u=a-2*d;e.strokeStyle=w,e.lineWidth=1,e.fillStyle=E,P(e,s,l,d,c,[4,0,0,4]),e.fill(),e.fillStyle=w,e.font=`400 14px ${$()}`,e.textAlign="center",e.textBaseline="middle",e.fillText("-",s+d/2,110),e.fillStyle="#ffffff",e.fillRect(s+d,l,u,c),e.fillStyle=w,e.font=`400 14px ${$()}`,e.textAlign="center",e.textBaseline="middle",e.fillText(n.quantity.toString(),s+d+u/2,110),e.fillStyle=E,P(e,s+d+u,l,d,c,[0,4,4,0]),e.fill(),e.fillStyle=w,e.font=`400 14px ${$()}`,e.textAlign="center",e.textBaseline="middle",e.fillText("+",s+d+u+d/2,110);const m={x:s,y:l,width:d,height:c,centerX:s+d/2,centerY:110},p={x:s+d+u,y:l,width:d,height:c,centerX:s+d+u+d/2,centerY:110},f={x:s+d,y:l,width:u,height:c,centerX:s+d+u/2,centerY:110};t.dataset.minusBtn=JSON.stringify(m),t.dataset.plusBtn=JSON.stringify(p),t.dataset.qtyInput=JSON.stringify(f),e.restore()}(o,e,t,q+v+O,0,I),F&&(e.dataset.isEditing="true");const j=t.discountPrice*t.quantity;o.fillStyle=w,o.font=`400 15px ${$()}`,o.textAlign="right",o.fillText(`–°—É–º–º–∞: ${b(j)} —Ä—É–±.`,a-q,g);let M=!0;try{const{fetchPrintOpportunities:e}=await n.e(994).then(n.bind(n,994)),{isAnyBrandingAvailable:i}=await n.e(932).then(n.bind(n,932));M=i(await e(t.goodsId),t.branding||[])}catch(e){console.error("Error checking branding availability:",e),M=!0}!function(e,t,n,i,r,o,c=!0){const a=40;e.strokeStyle=c?"#ddd":"#ccc",e.setLineDash([4,2]),e.lineWidth=1,e.fillStyle=c?E:"#f5f5f5",P(e,i,r,o,a,6),e.fill(),e.stroke(),e.setLineDash([]),e.fillStyle=c?w:"#888",e.font=c?`400 14px ${$()}`:`400 12px ${$()}`,e.textAlign="center",e.textBaseline="middle";const s=c?"–î–æ–±–∞–≤–∏—Ç—å –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ":"–î–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏—Å—á–µ—Ä–ø–∞–Ω—ã –æ–ø—Ü–∏–∏ –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏—è";if(!c&&o<400){const t=s.split(" "),n=Math.floor(t.length/2),c=t.slice(0,n).join(" "),a=t.slice(n).join(" ");e.fillText(c,i+o/2,r+20-8),e.fillText(a,i+o/2,r+20+8)}else e.fillText(s,i+o/2,r+20);const l={x:i,y:r,width:o,height:a,centerX:i+o/2,centerY:r+20,isAvailable:c};t.dataset.brandingBtn=JSON.stringify(l)}(o,e,0,q,130,a-32,M);let N=190;t.branding&&t.branding.length>0&&(N=function(e,t,n,i,r,o){if(!n.branding||0===n.branding.length)return r;e.strokeStyle=x,e.setLineDash([4,2]),e.beginPath(),e.moveTo(i,r-20),e.lineTo(i+o,r-20),e.stroke(),e.setLineDash([]);const c={};if(n.branding.forEach(((t,a)=>{const s=1===t.colors?"1 —Ü–≤–µ—Ç":t.colors>1&&t.colors<5?`${t.colors} —Ü–≤–µ—Ç–∞`:`${t.colors} —Ü–≤–µ—Ç–æ–≤`;let l="";t.secondPass&&(l=", –≤—Ç–æ—Ä–æ–π –ø—Ä–æ—Ö–æ–¥");const d=`${t.type} ${t.location}¬†${s}${l}`;C(e,d,i,r,{baseline:"middle",fontSize:14});const u=t.secondPass?1.3:1,m=t.price*t.colors*u,p=`–¶–µ–Ω–∞:¬†${b(m)} —Ä—É–±.`;C(e,p,i+Math.min(350,.5*o),r,{baseline:"middle",fontSize:14});const f=`–°—É–º–º–∞:¬†${b(m*n.quantity)} —Ä—É–±.`;C(e,f,i+o-40,r,{align:"right",baseline:"middle",fontSize:14});const h=i+o-20;e.strokeStyle=w,e.lineWidth=1.5,e.beginPath(),e.moveTo(h-5,r-5),e.lineTo(h+5,r+5),e.moveTo(h+5,r-5),e.lineTo(h-5,r+5),e.stroke(),c[`remove_${a}`]={x:h-10,y:r-10,width:20,height:20,index:a},r+=35})),t.dataset.brandingBtns=JSON.stringify(c),n.branding.length>0){e.strokeStyle=x,e.beginPath(),e.moveTo(i,r-10),e.lineTo(i+o,r-10),e.stroke();const t=n.branding.reduce(((e,t)=>{const i=t.secondPass?1.3:1;return e+Math.round(t.price*t.colors*i*100)/100*n.quantity}),0);C(e,"–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏—è:",i,r+=10,{baseline:"middle",fontSize:14}),C(e,`${b(t)} —Ä—É–±.`,i+o-20,r,{align:"right",baseline:"middle",fontSize:14}),r+=15}return r}(o,e,t,q,N,a-32)),function(e,t,n,i){const r=30;e.fillStyle="#F2FFFF",P(e,n,i,r,r,4),e.fill(),e.fillStyle="#0F4880",e.strokeStyle="#0F4880",e.lineWidth=1.5,e.beginPath(),e.moveTo(n+7.5,25),e.lineTo(n+22.5,25),e.stroke(),e.beginPath(),e.moveTo(n+12,25),e.lineTo(n+12,23.5),e.lineTo(n+18,23.5),e.lineTo(n+18,25),e.stroke(),e.beginPath(),e.moveTo(n+9,25),e.lineTo(n+10.5,38.5),e.lineTo(n+19.5,38.5),e.lineTo(n+21,25),e.stroke(),e.beginPath(),e.moveTo(n+12,26.5),e.lineTo(n+12,37),e.stroke(),e.beginPath(),e.moveTo(n+15,26.5),e.lineTo(n+15,37),e.stroke(),e.beginPath(),e.moveTo(n+18,26.5),e.lineTo(n+18,37),e.stroke();const o={x:n,y:i,width:r,height:r,centerX:n+15,centerY:31};t.dataset.removeBtn=JSON.stringify(o)}(o,e,a-40,q)}function P(e,t,n,i,r,o){e.beginPath(),e.roundRect(t,n,i,r,o),e.closePath()}function I(e){const t=JSON.parse(localStorage.getItem("cart")||"[]"),n=document.querySelector(".cart-empty"),i=document.querySelector(".cart-summary");if(0===t.length)return n&&n.classList.remove("item-hidden"),i&&i.classList.add("item-hidden"),void(e.innerHTML="");n&&n.classList.add("item-hidden"),i&&i.classList.remove("item-hidden");const r=Array.from(e.querySelectorAll(".cart-item")),o={};r.forEach((e=>{const t=e.querySelector(".cart-item-canvas");t&&t.dataset.itemId&&(o[t.dataset.itemId]={container:e,canvas:t})})),Object.keys(o).filter((e=>!t.some((t=>t.id===e)))).forEach((e=>{o[e]&&o[e].container&&(o[e].container.remove(),delete o[e])}));const c=[];return t.forEach(((t,n)=>{let i,r;if(o[t.id])i=o[t.id].container,r=o[t.id].canvas,r.dataset.index=n,O(r,t);else{i=document.createElement("div"),i.className="cart-item",r=function(e,t,n){const i=n.querySelector(`.cart-item-canvas[data-item-id="${e.id}"]`);if(i)return i;const r=document.createElement("canvas");return r.className="cart-item-canvas",r.dataset.itemId=e.id,r.dataset.index=t,r.dataset.goodsId=e.goodsId,r.style.width="100%",r.style.boxSizing="border-box",r.style.display="block",r}(t,n,i),i.appendChild(r),e.appendChild(i);const o=function(e){if(!e){const e=window.innerWidth||document.documentElement.clientWidth||800;return Math.min(Math.max(e-40,300),1200)}const t=e.parentElement?e.parentElement.offsetWidth:e.offsetWidth;return Math.max(t-2,300)}(i),c=T(t),a=window.devicePixelRatio||1;r.width=o*a,r.height=c*a,r.dataset.originalWidth=o,r.dataset.originalHeight=c,O(r,t)}c.push(r)})),c}function F(){const e=document.querySelector(".cart-page__items");if(e)try{I(e),function(){const e=document.querySelector(".cart-summary"),t=document.querySelector(".cart-empty");if(!e)return;const{totalItems:n,subtotal:i,brandingTotal:r,grandTotal:o}=function(){const e=JSON.parse(localStorage.getItem("cart")||"[]");let t=0,n=0,i=0;return e.forEach((e=>{t+=e.quantity;const r=void 0!==e.discountPrice?e.discountPrice:e.price;n+=r*e.quantity,e.branding&&e.branding.length>0&&(i+=e.branding.reduce(((t,n)=>{const i=n.secondPass?1.3:1;return t+Math.round(n.price*n.colors*i*100)/100*e.quantity}),0))})),{totalItems:t,subtotal:n,brandingTotal:i,grandTotal:n+i}}();if(0===n)return e.classList.add("item-hidden"),void(t&&t.classList.remove("item-hidden"));e.classList.remove("item-hidden"),t&&t.classList.add("item-hidden");const c=e.querySelector(".cart-summary__items-input"),a=e.querySelector(".cart-summary__subtotal-input"),s=e.querySelector(".cart-summary__branding-total-input"),l=e.querySelector(".cart-summary__total-input");c&&(c.textContent=n,c.dataset.value=n),a&&(a.textContent=b(i),a.dataset.value=i.toFixed(2)),s&&(s.textContent=b(r),s.dataset.value=r.toFixed(2)),l&&(l.textContent=b(o),l.dataset.value=o.toFixed(2))}();const t=document.querySelector(".cart-summary__apply-discounts");t&&(t.disabled=!1);const n=document.querySelector(".cart-empty");n&&n.classList.add("item-hidden");const i=document.querySelector(".cart-summary");i&&i.classList.remove("item-hidden")}catch(e){console.error("Error updating cart UI directly:",e)}}let j=!1;function M(){j||(document.addEventListener("click",(async function(e){const t=e.target.closest(".add-to-cart");if(t){e.preventDefault();try{const e=function(e){try{const t=e.closest(".product, .detail-page__content, .recently-viewed__item");if(!t)return console.error("Product container not found"),null;let n={quantity:1,branding:[]};return t.classList.contains("recently-viewed__item")?function(e,t){const n=e.querySelector("img:not(.item-hidden)");if(!n)throw new Error("Active image not found in recently viewed item");const i=e.querySelector('.square[style*="outline: 1px solid"]'),r=i?i.querySelector(".tooltip-text")?.textContent.trim():"";return{...t,id:n.dataset.id,goodsId:e.dataset.id,name:e.querySelector(".recently-viewed__name")?.textContent.trim()||"",article:e.querySelector(".recently-viewed__article")?.textContent.trim().replace("–ê—Ä—Ç–∏–∫—É–ª:","").trim()||"",price:parseFloat(e.querySelector(".recently-viewed__price")?.textContent.replace(/[^\d.,]/g,"").replace(",","."))||0,image:n.src||"/static/viki_web/icons/logo.svg",description:e.querySelector(".recently-viewed__description")?.textContent.trim()||r||"",colorDescription:r}}(t,n):t.querySelector(".detail-page__main-image")?function(e,t){const n=e.querySelector(".detail-page__main-image img:not(.item-hidden)");if(!n)throw new Error("Active image not found in detail page");return{...t,id:n.dataset.id,goodsId:e.dataset.id,name:e.querySelector("h1, h2, h3")?.textContent.trim()||"",article:n.dataset.article||"",price:parseFloat(n.dataset.price)||0,image:n.src||"/static/viki_web/icons/logo.svg",description:n.dataset.description||e.querySelector(".detail-page__color-description")?.textContent.trim()||""}}(t,n):function(e,t){const n=e.querySelector(".product-hor__image-frame:not(.item-hidden), .product-sqr__image-frame:not(.item-hidden)");if(!n)throw new Error("Active image frame not found in catalog product");const i=n.querySelector("img")||n;return{...t,id:n.dataset.id,goodsId:e.dataset.id,name:e.querySelector("h3")?.textContent.trim()||"",article:n.dataset.article||"",price:parseFloat(n.dataset.price)||0,image:"IMG"===i.tagName?i.src:"/static/viki_web/icons/logo.svg",description:n.dataset.description||e.querySelector(".product-hor__color-description")?.textContent.trim()||""}}(t,n)}catch(e){return console.error("Error extracting product data:",e),null}}(t);if(!e)return void _("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–µ");await async function(e){try{if(!e||!e.id)return _("–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ID —Ç–æ–≤–∞—Ä–∞"),null;const n=(t=e.id)&&h().find((e=>e.id===t))||null;if(n)return g(n,!0),setTimeout(F,50),n;const i=e.price||0,r={id:e.id,goodsId:e.goodsId||e.id,name:e.name||"–¢–æ–≤–∞—Ä",article:e.article||"",description:e.description||"",image:e.image||"/static/viki_web/icons/logo.svg",price:i,quantity:1,branding:[],promotion:!!e.promotion};!function(e){if(!e||!e.id)return console.error("Invalid item data, ID is required"),h();const t=h(),n=t.findIndex((t=>t.id===e.id));-1!==n?t[n]=e:t.push(e),y(t)}(r),g(r,!1),setTimeout(F,50),document.dispatchEvent(new CustomEvent("product:added_to_cart",{detail:{product:r}}));try{const e=await(0,v.pt)(r.id);if(e&&e.success){const t=(0,v.th)(e,1);t!==r.price&&(r.price=t,function(e){if(!e||!e.id)return console.error("Invalid item data, ID is required"),null;const t=h(),n=t.findIndex((t=>t.id===e.id));-1===n?console.warn("Item not found in cart, cannot update"):(t[n]=e,y(t))}(r),setTimeout(F,50))}}catch(e){console.warn("Could not fetch price data, using original price:",e)}return r}catch(e){return console.error("Error adding product to cart:",e),_("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É"),null}var t}(e)}catch(e){console.error("Error handling add to cart click:",e),_("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É")}}})),j=!0)}class N{static init(){const e=document.querySelector(".recently-viewed__items");if(!e)return;e.innerHTML="";const t=this.getRecentlyViewedProducts();t&&t.length>0&&(t.forEach((t=>{const n=this.createProductElement(JSON.parse(t.data));e.appendChild(n)})),this.initEventListeners(),M())}static getRecentlyViewedProducts(){try{const e=localStorage.getItem("recentlyViewed");return e?JSON.parse(e):[]}catch(e){return console.error("Error retrieving recently viewed products:",e),[]}}static createProductElement(e){const t=e.goods_item||{},n=e.random_item||{},i=n.item||{},r=e.price||0,o=e.price_volume||!1,c=e.promotion_price||n.promotion_price||!1,a=document.createElement("div");a.className="recently-viewed__item",a.dataset.id=t.id,i.image;const s=i.item_article||t.article||"",l=this.createColorElements(e.colors||[]),d=n.price&&"0"!==n.price&&""!==n.price?n.price:r||"0";let u="";return e.item_list.forEach((t=>{const n=t.price&&"0"!==t.price&&""!==t.price?t.price:e.price||"0",i=t.promotion_price||e.promotion_price||!1;t.item.id!=e.id_random?u+=`<img src="/static/viki_web_cms/files/item_photo/${t.item.image}" \n                      alt="${t.item.name||""}" \n                      class="item-hidden item-opaque"\n                      loading="lazy"\n                      data-id="${t.item.id}"\n                      data-article="${t.item.item_article||""}"\n                      data-price="${n}"\n                      data-promotion="${i?"true":"false"}"\n                      data-color-description="${t.color_description||""}" />`:u+=`<img src="/static/viki_web_cms/files/item_photo/${t.item.image}" \n                      alt="${t.item.name||""}" \n                      data-id="${t.item.id}"\n                      data-article="${t.item.item_article||""}"\n                      data-price="${n}"\n                      data-promotion="${i?"true":"false"}"\n                      data-color-description="${t.color_description||""}" />`})),a.innerHTML=`\n      <div class="recently-viewed__img">\n       <button class="recently-viewed__nav-button recently-viewed__nav-button--prev">\n          <i class="fa-solid fa-chevron-left"></i>\n       </button>\n       <button class="recently-viewed__nav-button recently-viewed__nav-button--next">\n          <i class="fa-solid fa-chevron-right"></i>\n       </button>\n       ${u}\n      </div>\n      <div class="recently-viewed__info">\n        <div class="recently-viewed__name">${t.name||""}</div>\n        <div class="recently-viewed__article" data-name="article">–ê—Ä—Ç–∏–∫—É–ª: ${s}</div>\n        <div class="recently-viewed__description" data-name="description">${n.color_description||""}</div>\n        <div class="recently-viewed__price" data-name="price">\n            <span>–¶–µ–Ω–∞${o?" –æ—Ç":""}:</span> ${d} —Ä—É–±.\n            ${c?'<span class="product-promotion-badge">–ê–∫—Ü–∏—è</span>':""}\n        </div>\n        <div class="recently-viewed__colors">\n          ${l}\n        </div>\n      </div>\n      <button class="recently-viewed__cart-btn btn btn__save add-to-cart">\n        <i class="fa-solid fa-cart-shopping"></i>&nbsp; –í –∫–æ—Ä–∑–∏–Ω—É\n      </button>\n      <a class="btn-hor"\n         href="/product/${t.slug}">\n         <button class="btn btn__cancel btn-sqr">\n            <div>–ü–æ–¥—Ä–æ–±–Ω–µ–µ&nbsp;</div>\n            <i class="fa-solid fa-arrow-right"></i>\n        </button>\n      </a>\n    `,a}static createColorElements(e){return e&&0!==e.length?e.map((e=>{const t=e.main_color__hex||"#FFFFFF",n=e.main_color__name||"–¶–≤–µ—Ç";return`\n        <div class="square square-small tooltip" \n             style="background-color: ${t};"  \n             data-id="${e.id}">\n          <span class="tooltip-text">${n}</span>\n        </div>\n      `})).join(""):""}static navigateRecentlyViewedImages(e,t){const n=Array.from(e.querySelectorAll(".recently-viewed__img img"));if(n.length<=1)return;const i=n.find((e=>!e.classList.contains("item-hidden")));if(!i)return;const r=n.indexOf(i);let o;o="prev"===t?r>0?r-1:n.length-1:r<n.length-1?r+1:0;const c=n[o];i.classList.add("item-hidden"),c.classList.remove("item-hidden","item-opaque");const a=c.dataset.id;e.querySelectorAll(".recently-viewed__colors .square").forEach((e=>{e.style.outline="none",e.style.outlineOffset="0",e.dataset.id===a&&(e.style.outline="1px solid #009EA3",e.style.outlineOffset="2px")}));const s=e.querySelector(".recently-viewed__article");s&&(s.textContent=`–ê—Ä—Ç–∏–∫—É–ª: ${c.dataset.article}`);const l=e.querySelector(".recently-viewed__price");if(l){const t=c.dataset.price||"0",n=e.querySelector(".recently-viewed__price span").textContent.includes("–æ—Ç"),i="true"===c.dataset.promotion;l.innerHTML=`<span>–¶–µ–Ω–∞${n?" –æ—Ç":""}:</span> ${t} —Ä—É–±.\n                            ${i?'<span class="product-promotion-badge">–ê–∫—Ü–∏—è</span>':""}`}const d=e.querySelector(".recently-viewed__description");d&&(d.textContent=c.getAttribute("data-color-description")||"")}static initEventListeners(){document.querySelectorAll(".recently-viewed__colors .square").forEach((e=>{const t=e.closest(".recently-viewed__item"),n=[...t.querySelectorAll(".recently-viewed__img img")].find((e=>!e.classList.contains("item-hidden")));n&&t.querySelectorAll(`.square[data-id="${n.dataset.id}"]`).forEach((e=>{e.style.outline="1px solid #009EA3",e.style.outlineOffset="2px"})),e.addEventListener("click",(function(){const e=this.closest(".recently-viewed__item"),t=this.dataset.id,n=e.querySelectorAll(".recently-viewed__img img");e.querySelectorAll(".recently-viewed__colors .square").forEach((e=>{e.style.outline="none",e.style.outlineOffset="0"})),this.style.outline="1px solid #009EA3",this.style.outlineOffset="2px";const i=[...n].find((e=>!e.classList.contains("item-hidden")));if(!i)return;const r=[...n].find((e=>e.dataset.id===t));if(!r||i===r)return;i.classList.add("item-hidden"),r.classList.remove("item-hidden","item-opaque");const o=e.querySelector(".recently-viewed__article");o&&(o.textContent=`–ê—Ä—Ç–∏–∫—É–ª: ${r.dataset.article}`);const c=e.querySelector(".recently-viewed__price");if(c){const t=r.dataset.price||"0",n=e.querySelector(".recently-viewed__price span").textContent.includes("–æ—Ç"),i="true"===r.dataset.promotion;c.innerHTML=`<span>–¶–µ–Ω–∞${n?" –æ—Ç":""}:</span> ${t} —Ä—É–±.\n                                ${i?'<span class="product-promotion-badge">–ê–∫—Ü–∏—è</span>':""}`}const a=e.querySelector(".recently-viewed__description");a&&(a.textContent=r.getAttribute("data-color-description")||"")}))}));const e=document.querySelectorAll(".recently-viewed__nav-button--prev"),t=document.querySelectorAll(".recently-viewed__nav-button--next");e.forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".recently-viewed__item");N.navigateRecentlyViewedImages(e,"prev")}))})),t.forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".recently-viewed__item");N.navigateRecentlyViewedImages(e,"next")}))}))}}const R=N;async function B(){document.addEventListener("DOMContentLoaded",(async()=>{const e=document.querySelectorAll(".filter .product-header__filter-content_checkbox-hidden"),t=document.querySelectorAll(".products label.color-label"),n=document.querySelectorAll(".tab-btn"),i=document.querySelectorAll(".chev-next"),d=document.querySelector(".filter .input-range"),u=document.querySelector(".filter .btn__save"),m=document.querySelector(".filter .btn__cancel"),h=document.querySelectorAll(".filter input[type='checkbox']"),y=document.querySelectorAll(".btn-multicolor");e.forEach((e=>{e.addEventListener("change",(t=>{const n=document.querySelector(`label[for="${e.id}"]`).querySelector(".color-label__check");e.checked?n.style.display="block":n.removeAttribute("style")}))})),t.forEach((e=>{e.addEventListener("click",r)})),n.forEach((e=>{e.addEventListener("click",o)})),i.forEach((e=>{e.addEventListener("click",c)})),d.addEventListener("input",a),d.addEventListener("input",(e=>{p(h,d)})),m.addEventListener("click",s),u.addEventListener("click",await l),h.forEach((e=>{e.addEventListener("change",(e=>{p(h,d)}))})),y.forEach((e=>{e.addEventListener("click",f)})),document.querySelector(".recently-viewed__items")&&R.init()}))}},342:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var i=n(93);await(0,i.R)(),t()}catch(e){t(e)}}),1)},713:(e,t,n)=>{n.d(t,{Wu:()=>i,pt:()=>r,th:()=>o});const i=new Map;async function r(e){if(i.has(e))return i.get(e);try{const t=await fetch(`/api/get-item-price/${e}/`);if(!t.ok)throw new Error("Failed to fetch product price");const n=await t.json();return n.success?(i.set(e,n),n):(console.error("Error fetching product price:",n.error||"Unknown error"),null)}catch(e){return console.error("Error fetching product price:",e),null}}function o(e,t){if(!e)return 0;if(e.standard_price)return e.price;if(e.prices&&e.prices.length>0){const n=[...e.prices].sort(((e,t)=>e.quantity-t.quantity));let i=n[0].price;for(let e=0;e<n.length&&t>=n[e].quantity;e++)i=e+1<n.length?n[e+1].price:n[e].price;return i}return 0}}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return c[e](n,n.exports,s),n.exports}s.m=c,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(r,o,c)=>{var a;c&&((a=[]).d=-1);var s,l,d,u=new Set,m=r.exports,p=new Promise(((e,t)=>{d=t,l=e}));p[t]=m,p[e]=e=>(a&&e(a),u.forEach(e),p.catch((e=>{}))),r.exports=p,o((r=>{var o;s=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var o=[];o.d=0,r.then((e=>{c[t]=e,i(o)}),(e=>{c[n]=e,i(o)}));var c={};return c[e]=e=>e(o),c}}var a={};return a[e]=e=>{},a[t]=r,a})))(r);var c=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(o=()=>t(c)).r=0;var n=e=>e!==a&&!u.has(e)&&(u.add(e),e&&!e.d&&(o.r++,e.push(o)));s.map((t=>t[e](n)))}));return o.r?l:c()}),(e=>(e?d(p[n]=e):l(m),i(a)))),a&&a.d<0&&(a.d=0)},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".bundle.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="production:",s.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var c,a;if(void 0!==n)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==o+n){c=u;break}}c||(a=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.setAttribute("data-webpack",o+n),c.src=e),r[e]=[t];var m=(t,n)=>{c.onerror=c.onload=null,clearTimeout(p);var i=r[e];if(delete r[e],c.parentNode&&c.parentNode.removeChild(c),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=m.bind(null,c.onerror),c.onload=m.bind(null,c.onload),a&&document.head.appendChild(c)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={964:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var o=s.p+s.u(t),c=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,i[1](c)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[o,c,a]=n,l=0;if(o.some((t=>0!==e[t]))){for(i in c)s.o(c,i)&&(s.m[i]=c[i]);a&&a(s)}for(t&&t(n);l<o.length;l++)r=o[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkproduction=self.webpackChunkproduction||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s(342)})();