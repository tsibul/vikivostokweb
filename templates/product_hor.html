{% extends 'product_header.html' %}
{% load static %}
{#{% block title %}Главная{% endblock %}#}
{% block content %}
    {#    <script src="{% static 'production/js/dist/index.bundle.js' %}" defer type="module"></script>#}
    <script src="{% static 'viki_web/js/product.js' %}" defer type="module"></script>

    <main>
        <div class="container">
            <div class="products">
                {% for goods in goods_list %}
                    <section class="product-hor">
                        <h3>{{ goods.goods_item.name }}</h3>
                        {% for item in goods.item_list %}
                            <div class="product-hor__frame
                                {% if goods.id_random != item.item.id %} item-hidden item-opaque{% endif %}"
                                 data-id="{{ item.item.id }}">
                                <img class="product-hor__img"
                                     src="/static/viki_web_cms/files/item_photo/{{ item.item.image }}"
                                     alt="{{ item.item.image_article }}"
                                     loading="lazy">
                                <div class="product-hor__tab-btn-block">
                                    <button class="product-hor__tab-btn tab-active"
                                            type="button" data-id="main-{{ item.item.id }}">
                                        основное
                                    </button>
                                    <button class="product-hor__tab-btn"
                                            type="button" data-id="description-{{ item.item.id }}">
                                        описание
                                    </button>
                                    <button class="product-hor__tab-btn"
                                            type="button" data-id="tech-{{ item.item.id }}">
                                        тех. информация
                                    </button>
                                    <button class="product-hor__tab-btn"
                                            type="button" data-id="print-{{ item.item.id }}">
                                        брендирование
                                    </button>
                                    <button class="product-hor__tab-btn"
                                            type="button" data-id="pack-{{ item.item.id }}">
                                        упаковка
                                    </button>

                                </div>
                                <div class="product-hor__tab-content">
                                    <div class="product-hor__tab tab-show"
                                         data-id="main-{{ item.item.id }}">
                                        <div class="product-hor__tab-main">
                                            <div class="product-hor__tab-main_title">
                                                <h4>Название: {{ item.item.name }}</h4>
                                            </div>
                                            <div class="product-hor__tab-main_title">
                                                <h4>Артикул: {{ item.item.item_article }}</h4>
                                                <h4 class="strong">Цена: {{ item.item.item_article }}</h4>
                                            </div>
                                            <div class="product-header__filter-content_color color-padding">
                                                {% for color in goods.colors %}
                                                    <input type="checkbox"
                                                           id="item-color-{{ item.item.id }}_{{ color.main_color__hex|slice:"1:" }}"
                                                           name="{{ color.name }}"
                                                           class="product-header__filter-content_checkbox-hidden"
                                                           data-id="{{ item.item.id }}"
                                                            {% if  item.item.id == color.id %} checked {% endif %}
                                                           hidden>
                                                    <label for="item-color-{{ item.item.id }}_{{ color.main_color__hex|slice:"1:" }}"
                                                           class="color-label"
                                                           data-item-id="{{ color.id }}"
                                                           data-hex="{{ color.main_color__hex|slice:"1:" }}"
                                                    >
                                                        <div class="square"
                                                             style="background-color: {{ color.main_color__hex }};"></div>
                                                        <div class="color-label__check"
                                                                {% if item.item.id == color.id %}
                                                             style="display:block;"  {% endif %}
                                                        ></div>
                                                    </label>
                                                {% endfor %}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-hor__tab"
                                         data-id="description-{{ item.item.id }}">
                                        <div class="product-hor__tab-description">
                                            <article>
                                                {{ goods.goods_description }}
                                            </article>
                                            <div>
                                                {{ item.color_description }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-hor__tab"
                                         data-id="tech-{{ item.item.id }}">
                                        <div class="product-hor__tab-tech">

                                        </div>
                                    </div>
                                    <div class="product-hor__tab"
                                         data-id="print-{{ item.item.id }}">
                                        <div class="product-hor__tab-print">
                                            <div class="product-hor__tab-print_data">
                                                <div>тип</div>
                                                <div>место</div>
                                                <div>кол-во позиций</div>
                                                <div>кол-во цветов</div>
                                                <div>размер</div>
                                            </div>
                                            {% for print in goods.print_data %}
                                            <div class="product-hor__tab-print_data">
                                                <div>{{ print.print_type }}</div>
                                                <div>{{ print.print_place }}</div>
                                                <div>{{ print.place_quantity }}</div>
                                                <div>{{ print.color_quantity }}</div>
                                                <div>{{ print.dimensions }}</div>
                                            </div>{% endfor %}
                                            <div class="product-hor__tab-print_link">


                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-hor__tab"
                                         data-id="pack-{{ item.item.id }}">
                                        <div class="product-hor__tab-pack">

                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn__save btn-hor">
                                    <div>
                                        В корзину&nbsp;
                                    </div>
                                    <img src="{% static 'viki_web/icons/cart.svg' %}"
                                         alt="cart" class="">
                                </button>
                            </div>
                        {% endfor %}
                    </section>
                {% endfor %}
            </div>
        </div>
    </main>


{% endblock %}
